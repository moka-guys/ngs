## Instructions for setting up CNV analysis using the Moka Pipeline and the R programme ExomeDepth. ##

_OOBed4.py_ is a python class which will set up customised bedfiles. The script can accept a set of chromosomal regions or a list of transcript accession numbers. You then assign the length to be added either side of your regions of interest and a text bed file will be generated along with a log file indicating what settings were used to generate the bed file

_CNVbed.py_ is a python function which will take the bedfile generated by OOBed4.py and split the regions of interest into regions of approximately 50bp. This is to improve resolution of ExomeDepth when it generates read depth calulations for a region of interest. 

A bedfile used to perform the BRCA CNV analysis by NextGene was provided by DNA. The regions of interest shown in this bedfile were used to design the bedfile for the BRCA CNV analysis by the Moka pipeline.
A plain text file was provided in BED format (BRCA NGS CNV exons plus 40bpJC.txt). This file was then re-formatted using CNVbed.py to generate an output file BRCAexonsplitbedAllBRCAgenes.bed. This script splits each exon longer than 75bps into 50bp regions. I ammended BRCAexonsplitbedAllBRCAgenes.bed to contain an additional column containg the gene names for each ROI. ROI outside BRCA1 and BRCA2 were then removed to generate BRCAexonsplitbedBRCA1_2only.bed.

Determination of CNV size resolution sensitivity
7 different CNVs of variable size (260bp - 80kb) were previously detected by ExomeDepth and were studied to determine whether the programme could still detected these CNVs if only 20-200bp of sequence relating to the CNV was provided. BRCAexonsplitbedBRCA1_2only.bed bedfile was ammended so that only the 20-200bp of the central region of the CNV was represented in the bedfile. 

